{"version":3,"sources":["webpack:///H:/办公/++黔域项目/如花2.0/免费版/1.222/前端_免费版/main.js","webpack:///H:/办公/++黔域项目/如花2.0/免费版/1.222/前端_免费版/pages/order/createOrder.vue?7df6","webpack:///H:/办公/++黔域项目/如花2.0/免费版/1.222/前端_免费版/pages/order/createOrder.vue?be1a","webpack:///H:/办公/++黔域项目/如花2.0/免费版/1.222/前端_免费版/pages/order/createOrder.vue?e52a","webpack:///H:/办公/++黔域项目/如花2.0/免费版/1.222/前端_免费版/pages/order/createOrder.vue?22bb","webpack:///H:/办公/++黔域项目/如花2.0/免费版/1.222/前端_免费版/pages/order/createOrder.vue","webpack:///H:/办公/++黔域项目/如花2.0/免费版/1.222/前端_免费版/pages/order/createOrder.vue?a10e","webpack:///H:/办公/++黔域项目/如花2.0/免费版/1.222/前端_免费版/pages/order/createOrder.vue?bab0"],"names":["createPage","Page","data","content","xieyi","sku_id","head","is_kai","pid","is_pt","pt_data","coupon_id","save_cache","order_id","getimg","$getimg","maskState","desc","payType","yunfei_money","couponList","addressData","state","buy_data","address","paying","coupon_text","coupon_money","obj","msg","order_from","payment_type","total_price","shoping_price","coupon_price","discount","onLoad","option","uni","getStorageSync","arr","cache","x","k","v","console","log","radio","goods_name","id","get_pid","removeStorageSync","_load","onShow","$api","http","get","then","res","computed","goods_money","buy","total","price","num","pay_money","methods","get_yunfei","jump_invoices","navigateTo","url","goods_id","post","toggleMask","type","timer","setTimeout","to_use","index","reduce","cancel_use","numberChange","number","changePayType","set_order_data","pt","is_captain_sign","is_item","item_id","pro","sku","name","sku_name","json","check_sub_data","submit","is_pin","order_json","navigateBack","setStorageSync","pay_data","pay","wxPay","WeixinJSBridge","document","addEventListener","jsApiCall","attachEvent","that","invoke","err_msg","redirectTo","requestPayment","provider","timeStamp","nonceStr","package","signType","paySign","success","fail","err","JSON","stringify","app_pay","orderInfo","onPullDownRefresh","stopPullDownRefresh"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,yG;AACAA,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACc;;;AAGxE;AACwN;AACxN,gBAAgB,6MAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;AC1Cf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAAi3B,CAAgB,qxBAAG,EAAC,C;;;;;;;;;;;;s8BCAr4B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"pages/order/createOrder.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/order/createOrder.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./createOrder.vue?vue&type=template&id=6847bac9&\"\nvar renderjs\nimport script from \"./createOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./createOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./createOrder.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"H:\\\\安装包\\\\0环境+开发\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('6847bac9')) {\n      api.createRecord('6847bac9', component.options)\n    } else {\n      api.reload('6847bac9', component.options)\n    }\n    module.hot.accept(\"./createOrder.vue?vue&type=template&id=6847bac9&\", function () {\n      api.rerender('6847bac9', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"办公/++黔域项目/如花2.0/免费版/1.222/前端_免费版/pages/order/createOrder.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=template&id=6847bac9&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.xieyi = false\n    }\n\n    _vm.e1 = function($event) {\n      _vm.xieyi = false\n    }\n\n    _vm.e2 = function($event) {\n      _vm.xieyi = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcontent: '',\n\t\t\txieyi: false,\n\t\t\tsku_id: '',\n\t\t\thead: '',\n\t\t\tis_kai: 0,\n\t\t\tpid: '',\n\t\t\tis_pt: 0,\n\t\t\tpt_data: '',\n\t\t\tcoupon_id: 0,\n\t\t\tsave_cache: {},\n\t\t\torder_id: 0,\n\t\t\tgetimg: this.$getimg,\n\t\t\tmaskState: 0, //优惠券面板显示状态\n\t\t\tdesc: '', //备注\n\t\t\tpayType: 1, //1微信 2支付宝\n\t\t\tyunfei_money: 0, //运费\n\t\t\tcouponList: [],\n\t\t\taddressData: {},\n\t\t\tstate: '',\n\t\t\tbuy_data: '',\n\t\t\taddress: '',\n\t\t\tpaying: '', //防止多次提交订单\n\t\t\tcoupon_text: '选择优惠券',\n\t\t\tcoupon_money: 0, //优惠金额\t\t\t\t\n\t\t\tobj: {\n\t\t\t\tmsg: \"\",\n\t\t\t\torder_from: \"xcx\",\n\t\t\t\tpayment_type: \"wx\",\n\t\t\t\ttotal_price: \"\",\n\t\t\t\tshoping_price: \"\",\n\t\t\t\tcoupon_price: \"\",\n\t\t\t\tcoupon_id: 0,\n\t\t\t\tdiscount: \"\"\n\t\t\t}\n\n\t\t}\n\t},\n\tonLoad(option) {\n\t\tthis.state = option.state\n\t\tif (option.state == 'buy') {\n\t\t\tlet buy_data = uni.getStorageSync('buy')\n\t\t\tthis.buy_data = buy_data\n\t\t}\n\t\tif (option.state == 'car') {\n\t\t\tlet buy_data = uni.getStorageSync('cart')\n\t\t\tlet arr = []\n\t\t\tlet cache = {}\n\t\t\tlet x = 0\n\t\t\tfor (let k in buy_data) {\n\t\t\t\tconst v = buy_data[k]\n\t\t\t\tconsole.log(k, v)\n\t\t\t\tif (v.radio) {\n\t\t\t\t\tarr[x] = v //购物车中选中的商品\n\t\t\t\t\tx++\n\t\t\t\t} else {\n\t\t\t\t\tcache[k] = v //购物车未选中的商品 \n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.buy_data = arr\n\t\t\tthis.save_cache = cache\n\t\t}\n\t\tif (this.buy_data[0].goods_name == \"如花商城商业版-授权\") {\n\t\t\tthis.xieyi = true\n\t\t}\n\t\tlet id = uni.getStorageSync('pid')\n\t\tif (id) {\n\t\t\tthis.pid = id\n\t\t\tconsole.log(id)\n\t\t\tthis.is_pt = 1\n\t\t\tthis.get_pid(id)\n\t\t}\n\t\tthis.head = uni.getStorageSync('userInfo')\n\t\tthis.is_kai = uni.getStorageSync('is_kai')\n\t\tuni.removeStorageSync('is_kai')\n\t\tconsole.log('onLoad', this.buy_data)\n\t\tthis._load()\n\t\t//商品数据s\n\t\t//let data = JSON.parse(option.data);\n\t\t//console.log(data);\n\t},\n\tonShow() {\n\t\tthis.$api.http.get('address/get_default_address').then(res => {\n\t\t\tthis.address = res.data\n\t\t})\n\t},\n\tcomputed: {\n\t\t//商品金额\n\t\tgoods_money() {\n\t\t\tconst buy = this.buy_data\n\t\t\tlet total = 0\n\t\t\tfor (let k in buy) {\n\t\t\t\tconst v = buy[k]\n\t\t\t\ttotal += v.price * v.num\n\t\t\t}\n\t\t\tconsole.log('总价', total)\n\t\t\treturn total;\n\t\t},\n\t\t//订单应付金额\n\t\tpay_money() {\n\t\t\treturn this.goods_money + this.yunfei_money - this.coupon_money;\n\t\t}\n\t},\n\tmethods: {\n\t\t_load() {\n\t\t\tconsole.log('load')\n\t\t\tthis.$api.http.get('coupon/user/get_coupon').then(res => {\n\t\t\t\tthis.couponList = res.data\n\t\t\t})\n\t\t\tthis.get_yunfei() \n\t\t},\n\t\tjump_invoices() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/invoices/invoices',\n\t\t\t});\n\t\t},\n\t\tget_pid(id) {\n\t\t\tthis.$api.http.get('pt/get_one_item', {\n\t\t\t\tid: id\n\t\t\t}).then(res => {\n\t\t\t\tthis.pt_data = res.data\n\t\t\t\tuni.removeStorageSync('pid');\n\t\t\t})\n\t\t},\n\t\t//获取运费\n\t\tget_yunfei() {\n\t\t\tconsole.log('get_yunfei', this.buy_data)\n\t\t\tconst buy_data = this.buy_data\n\t\t\tlet obj = []\n\t\t\tfor (let k in buy_data) {\n\t\t\t\tconst v = buy_data[k]\n\t\t\t\tobj[k] = {}\n\t\t\t\tobj[k]['goods_id'] = v.goods_id\n\t\t\t\tobj[k]['num'] = v.num\n\t\t\t\tconsole.log('v:', obj)\n\t\t\t}\n\t\t\tconsole.log('get_obj', obj)\n\t\t\tthis.$api.http.post('product/get_shipment_price', obj).then(res => {\n\t\t\t\tthis.yunfei_money = res.data\n\t\t\t})\n\t\t},\n\t\t//显示优惠券面板\n\t\ttoggleMask(type) {\n\t\t\tlet timer = type === 'show' ? 10 : 300;\n\t\t\tlet state = type === 'show' ? 1 : 0;\n\t\t\tthis.maskState = 2;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.maskState = state;\n\t\t\t}, timer)\n\t\t},\n\t\t//使用优惠券\n\t\tto_use(index) {\n\t\t\tthis.maskState = 0\n\t\t\tthis.coupon_id = this.couponList[index].id ? this.couponList[index].id : 0\n\t\t\tconst reduce = this.couponList[index].reduce\n\t\t\tthis.coupon_money = reduce\n\t\t\tthis.coupon_text = '已优惠' + reduce + '元'\n\t\t},\n\t\t//取消使用优惠券\n\t\tcancel_use() {\n\t\t\tthis.maskState = 0\n\t\t\tthis.coupon_id = 0\n\t\t\tthis.coupon_money = 0\n\t\t\tthis.coupon_text = '选择优惠券'\n\t\t},\n\t\tnumberChange(data) {\n\t\t\tthis.number = data.number;\n\t\t},\n\t\tchangePayType(type) {\n\t\t\tthis.payType = type;\n\t\t},\n\t\t//设置订单数据\n\t\tset_order_data() {\n\t\t\tconsole.log(this.buy_data)\n\t\t\tif (this.buy_data[0].discount != '[]') {\n\t\t\t\tthis.obj.discount = 1\n\t\t\t} else {\n\t\t\t\tthis.obj.discount = 0\n\t\t\t}\n\t\t\tlet obj = this.obj\n\t\t\tobj.total_price = this.pay_money\n\t\t\tobj.shoping_price = this.yunfei_money\n\t\t\tobj.coupon_price = this.coupon_money\n\t\t\tobj.coupon_id = this.coupon_id\n\t\t\tobj.goods_id = this.buy_data[0].goods_id,\n\t\t\t\tobj.price = this.buy_data[0].price,\n\t\t\t\tobj.num = this.buy_data[0].num,\n\t\t\t\tobj.order_from = 0\n\t\t\tobj.payment_type = 'xcx'\n\n\n\t\t\tif (this.buy_data[0].pt) {\n\t\t\t\tobj.is_captain_sign = 1\n\t\t\t}\n\t\t\tthis.is_item = uni.getStorageSync('is_item')\n\t\t\tif (this.is_item) {\n\t\t\t\tobj.item_id = this.pt_data.id\n\t\t\t\tuni.removeStorageSync('is_item')\n\t\t\t}\n\t\t\tlet pro = this.buy_data\n\t\t\tlet sku = {}\n\t\t\tfor (let k in pro) {\n\t\t\t\tconst v = pro[k]\n\t\t\t\tlet name = v.goods_id\n\t\t\t\tif (v.sku) {\n\t\t\t\t\tname = v.goods_id + '-' + v.sku.id\n\t\t\t\t\tthis.sku_id = v.sku.id\n\t\t\t\t}\n\t\t\t\tsku[name] = v\n\t\t\t\tsku[name].sku_id = 0\n\t\t\t\tif (v.sku) {\n\t\t\t\t\tsku[name].sku_id = v.sku.id\n\t\t\t\t}\n\t\t\t\tdelete sku[name].radio\n\t\t\t\tdelete sku[name].sku\n\t\t\t\tdelete sku[name].sku_name\n\t\t\t\tdelete sku[name].goods_name\n\t\t\t}\n\t\t\tobj.json = sku\n\t\t\tconsole.log('obj', obj)\n\t\t\treturn obj;\n\t\t},\n\t\tcheck_sub_data() {\n\t\t\tif (!this.address) {\n\t\t\t\tthis.$api.msg('未填写地址')\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.paying) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet url = ''\n\n\t\t\turl = 'order/create'\n\n\n\n\n\t\t\tconsole.log('url:', url)\n\t\t\treturn url\n\t\t},\n\t\t//创建订单\n\t\tasync submit() {\n\t\t\t/* if (this.buy_data[0].pindan_data.length > 0) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../invite/invite?id=' + this.pid\n\t\t\t\t})\n\t\t\t} */\n\t\t\tlet is_pin = uni.getStorageSync('is_item')\n\t\t\tuni.removeStorageSync('is_item')\n\t\t\tconst url = this.check_sub_data()\n\t\t\tif (!url) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet obj = this.set_order_data()\n\n\t\t\tconsole.log('submit:', obj)\n\t\t\t/* let obj = {  \n\t\t\t\tgoods_id: this.buy_data[0].goods_id,\n\t\t\t\tprice: this.buy_data[0].price,\n\t\t\t\tnum: this.buy_data[0].num,\n\t\t\t\tsku_id: this.sku_id,\n\t\t\t\tmsg: order_data.msg,\n\t\t\t\torder_from: 0,\n\t\t\t\tpayment_type: 'xcx',\n\t\t\t\ttotal_price: order_data.total_price,\n\t\t\t\tshoping_price: order_data.shoping_price,\n\t\t\t} */\n\t\t\tif (this.sku_id == '') {\n\t\t\t\tobj.sku_id = 0\n\t\t\t} else {\n\t\t\t\tobj.sku_id = this.sku_id\n\t\t\t}\n\t\t\tlet order_json = ''\n\n\n\n\t\t\t//普通下单\n\t\t\torder_json = await this.$api.http.post(url, obj).then(res => {\n\t\t\t\treturn res\n\t\t\t})\n\n\t\t\tthis.paying = true\n\t\t\tconsole.log(\"创建订单：\", order_json)\n\t\t\tif (!order_json.data) {\n\t\t\t\tthis.$api.msg(order_json.msg)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.navigateBack({})\n\t\t\t\t}, 1000);\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tif (this.state == 'buy') {\n\t\t\t\tuni.removeStorageSync('buy')\n\t\t\t} else {\n\t\t\t\tuni.removeStorageSync('cart')\n\t\t\t\tuni.setStorageSync('cart', this.save_cache)\n\t\t\t}\n\t\t\tconst order_id = order_json.data\n\n\t\t\tthis.order_id = order_id\n\n\n\t\t\tconst pay_data = await this.$api.http.post('order/pay/pre_order', {\n\t\t\t\tid: order_id\n\t\t\t}).then(res => {\n\t\t\t\tconsole.log('pay:', res)\n\t\t\t\treturn res\n\t\t\t})\n\t\t\tawait this.pay(pay_data)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t},\n\t\t//公众号支付\n\t\twxPay(json) {\n\t\t\tif (typeof WeixinJSBridge == \"undefined\") {\n\t\t\t\tif (document.addEventListener) {\n\t\t\t\t\tdocument.addEventListener(\"WeixinJSBridgeReady\", jsApiCall, false);\n\t\t\t\t} else if (document.attachEvent) {\n\t\t\t\t\tdocument.attachEvent(\"WeixinJSBridgeReady\", jsApiCall);\n\t\t\t\t\tdocument.attachEvent(\"onWeixinJSBridgeReady\", jsApiCall);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.jsApiCall(json);\n\t\t\t}\n\t\t},\n\t\tjsApiCall(json) {\n\t\t\tconst that = this;\n\t\t\tWeixinJSBridge.invoke(\"getBrandWCPayRequest\", json, function(res) {\n\t\t\t\tWeixinJSBridge.log('a:', res.err_msg);\n\t\t\t\tif (res.err_msg == \"get_brand_wcpay_request:ok\") {\n\t\t\t\t\tthat.$api.msg(\"支付成功!\");\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '../invite/invite?id=' + that.pid\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t} else if (res.err_msg == \"get_brand_wcpay_request:cancel\") {\n\t\t\t\t\tthat.$api.msg(\"取消支付\");\n\t\t\t\t} else {\n\t\t\t\t\tthat.$api.msg(\"支付失败\");\n\t\t\t\t}\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\turl: '/pages/order/order'\n\t\t\t\t\t});\n\t\t\t\t}, 1000);\n\t\t\t});\n\t\t},\n\t\t//小程序支付\n\t\tpay(data) {\n\t\t\tconst order_id = this.order_id\n\t\t\tuni.requestPayment({\n\t\t\t\tprovider: \"wxpay\",\n\t\t\t\ttimeStamp: data.timeStamp,\n\t\t\t\tnonceStr: data.nonceStr,\n\t\t\t\tpackage: data.package,\n\t\t\t\tsignType: data.signType,\n\t\t\t\tpaySign: data.paySign,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log('success:', res);\n\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\turl: '/pages/user/myorder/myorder?id=' + order_id\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfail: function(err) {\n\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\n\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\turl: '/pages/user/myorder/myorder?id=' + order_id\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//APP支付\n\t\tapp_pay(data) {\n\t\t\tconst order_id = this.order_id\n\t\t\tuni.requestPayment({\n\t\t\t\tprovider: \"wxpay\",\n\t\t\t\torderInfo: JSON.stringify(data),\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log('success:', res);\n\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\turl: '/pages/user/myorder/myorder?id=' + order_id\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfail: function(err) {\n\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\n\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\turl: '/pages/user/myorder/myorder?id=' + order_id\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t},\n\tonPullDownRefresh() {\n\t\tsetTimeout(function() {\n\t\t\tuni.stopPullDownRefresh();\n\t\t}, 2000);\n\t}\n}\n","import mod from \"-!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}