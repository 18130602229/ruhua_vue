(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/cms/coupon_VIP/coupon_VIP"],{"1b35":function(t,n,e){"use strict";e.r(n);var o=e("9dbc"),a=e.n(o);for(var u in o)"default"!==u&&function(t){e.d(n,t,function(){return o[t]})}(u);n["default"]=a.a},"205b":function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement;t._self._c},a=[];e.d(n,"a",function(){return o}),e.d(n,"b",function(){return a})},5112:function(t,n,e){"use strict";(function(t){e("6417"),e("921b");o(e("66fd"));var n=o(e("b0a7"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"9dbc":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;e("0ad3");var o=function(){return e.e("components/uni/uni-icon/uni-icon").then(e.bind(null,"1bc1"))},a=function(){return e.e("components/uni/uni-popup/uni-popup").then(e.bind(null,"5983"))},u=function(){return e.e("components/plan-image-upload/up_img").then(e.bind(null,"cb3c"))},i={data:function(){var t=this.getDate({format:!0}),n=this.getDate_end({format:!0});return{status:[{value:"0",name:"一次"},{value:"1",name:"无限制"}],current:0,coupon_form:{status:"",full:"",reduce:"",name:"",stock:"",sm:"",goods_ids:"0",star_time:"",end_time:"",stock_type:""},product_cate:"",set:0,category_id:1,date:t,date_end:n,time:"12:01",threshold:1,show_cate_list:!1,show_mail_list:!1,category_name:"固定时间",category_list:[{category_id:"1",category_name:"固定时间"},{category_id:"2",category_name:"领卷当日开始计算有效期"}],id:0,mail:1,mail_list:[{id:"1",name:"全部商品"},{id:"2",name:"指定商品可用"}],group:"未分组"}},components:{uniIcon:o,uniPopup:a,robbyImageUpload:u},computed:{startDate:function(){return this.getDate("start")},endDate:function(){return this.getDate("end")}},watch:{},onLoad:function(t){this._request(),this.id=t.id},onShow:function(){},methods:{setting:function(){this.set=1},radioChange:function(t){for(var n=0;n<this.status.length;n++)if(this.status[n].value===t.target.value){this.current=n,console.log(this.status[n].value),this.coupon_form.status=this.status[n].value;break}},getDate:function(t){var n=new Date,e=n.getFullYear(),o=n.getMonth()+1,a=(n.getMonth(),n.getDate());return"start"===t?e-=60:"end"===t&&(e+=2),o=o>9?o:"0"+o,a=a>9?a:"0"+a,"".concat(e,"-").concat(o,"-").concat(a)},getDate_end:function(t){var n=new Date,e=n.getFullYear(),o=n.getMonth()+2,a=n.getDate();return"start"===t?e-=60:"end"===t&&(e+=20),o=o>9?o:"0"+o,a=a>9?a:"0"+a,"".concat(e,"-").concat(o,"-").concat(a)},bindDateChange:function(t){this.date=t.target.value,console.log(this.date)},bindDateChange_end:function(t){this.date_end=t.target.value},switch1Change:function(){1==this.threshold?(this.threshold=0,this.coupon_form.full=0):this.threshold=1},sub:function(){var n=this;this.coupon_form.goods_ids=[1,2,3],this.coupon_form.star_time=this.date,this.coupon_form.end_time=this.date_end,this.coupon_form.stock_type="1",console.log(this.coupon_form),this.$api.http.post("shop_cms/add_vip_coupon",{stock_type:"1",full:this.coupon_form.full,name:this.coupon_form.name,reduce:this.coupon_form.reduce,status:"2"}).then(function(e){n.$api.msg("添加成功"),t.redirectTo({url:"../couponlist/couponlist"})}),this.coupon_form={}},compressImg:function(t){console.log(t)},changeIndicatorDots:function(t){this.isYasuo=!this.isYasuo},buy:function(n){var e=this;this.$api.http.post("user/pay_vip",{type:n}).then(function(n){e.$api.msg("购买成功"),setTimeout(function(){t.switchTab({url:"/pages/user/user"})},1500)})}}};n.default=i}).call(this,e("543d")["default"])},a8ec:function(t,n,e){"use strict";var o=e("bcff"),a=e.n(o);a.a},b0a7:function(t,n,e){"use strict";e.r(n);var o=e("205b"),a=e("1b35");for(var u in a)"default"!==u&&function(t){e.d(n,t,function(){return a[t]})}(u);e("a8ec");var i=e("2877"),s=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,null,null);n["default"]=s.exports},bcff:function(t,n,e){}},[["5112","common/runtime","common/vendor"]]]);